/*!
 * Lush Content Slider
 * http://geedmo.com
 *
 * Version: 1.4
 * Created: 04/02/2013
 * Updated: 20/04/2013
 *
 * Copyright (c) 2013, Geedmo. All rights reserved.
 * Released under CodeCanyon Regular License: http://codecanyon.net/licenses
 *
 * News: http://codecanyon.net/user/geedmo/portfolio
 * ======================================================= */
(function(d,h,p,e){d.support.css3feature=(function(){var x=p.createElement("lush"),y=(function(){var A={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},B;for(B in A){if(x.style[B]!==e){return{end:A[B],name:B}}}}()),z=(function(){var A={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oAnimationEnd",MSAnimation:"MSAnimationEnd",animation:"animationend"},B;for(B in A){if(x.style[B]!==e){return{end:A[B],name:B}}}}());x=null;return(y||z)&&{transition:y,animation:z}})();d.fn.forceReflow=function(){return this.each(function(){var x=this.offsetWidth})};d.fn.clearState=function(x){return this.each(function(){d(this).removeClass(d(this).data("activeClass")?d(this).data("activeClass"):"").removeClass(x).removeClass("live")})};d.fn.prepareEffect=function(x,y){return this.each(function(){var z=d(this);if(z.css(d.support.css3feature.animation.name+"FillMode")==="both"){z.clearTransition().css(d.support.css3feature.animation.name+"Duration",x+"ms").css(d.support.css3feature.animation.name+"TimingFunction",y)}else{var A={};A[d.support.css3feature.transition.name+"Property"]="all";A[d.support.css3feature.transition.name+"Duration"]=x+"ms";A[d.support.css3feature.transition.name+"TimingFunction"]=y;A[d.support.css3feature.transition.name+"Delay"]="0s";z.css(A)}})};d.fn.clearTransition=function(){return this.each(function(){d(this).css(d.support.css3feature.transition.name+"Duration","0s").css(d.support.css3feature.transition.name,"none")})};var a="lush",v="lush-slider",b="flexslider",f="lush",s="lush-prev",t="lush-next",j="lush-page",c="lush-nav",r="lush-shadow",q="lush-external",u="lushSlider",m="lushFlexslider",g=50,l={param:{at:0,from:"left",to:"right",use:"swing",during:1000,plus:0,force:false},autostart:true,baseWidth:1140,baseHeight:450,direction:"next",manual:false,slider:false,flexslider:false,syncNext:"",syncPrev:"",onInit:function(){},onSlide:function(){},onSlideIn:function(){},onSlideOut:function(){},onSlided:function(){}},o;function w(y,x){o=this;d.data(y,a,o);this.container=d(y);this.elements=this.container.children().not(".ignore, .lush-nav");this.options=d.extend({},l,x);this._defaults=l;this._name=a;this.runcallback=true;this.sliding=false;this.stopped=false;this.paused=false;this.outRendered=false;this.cssEasing={linear:"linear",swing:"ease-out",ease:"ease","ease-in":"ease-in","ease-out":"ease-out","ease-in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(0.6,-0.28,0.735,0.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};this.container.css({visibility:"hidden"});if(this.options.slider){this.container.hide()}this.preload(this.container,d.proxy(this.init,this))}w.prototype={init:function(){var x=0,y=0,z;if(!this.container.hasClass("lush")){this.container.addClass("lush")}this.container.css({visibility:"visible"});this.updatePos();if(this.options.flexslider){z=this.container.css("display");this.container.show()}if(this.options.slider){this.container.show()}d.each(this.elements,d.proxy(function(B,A){var C=this.elements[B].$el=d(A);C.slideIn={};C.slideOut={};if(C.data("slide-in")){C.dataIn=C.data("slide-in").split(" ")}C.slideIn.at=parseInt(this.get("at",C.dataIn));C.slideIn.from=this.get("from",C.dataIn);C.slideIn.use=this.get("use",C.dataIn);C.slideIn.during=parseInt(this.get("during",C.dataIn));C.slideIn.plus=parseInt(this.get("plus",C.dataIn));C.slideIn.force=this.get("force",C.dataIn);if(C.slideIn.plus>0){C.slideIn.at+=C.slideIn.plus+y}y=C.slideIn.at;if(C.data("slide-out")){C.dataOut=C.data("slide-out").split(" ");C.slideOut.at=parseInt(this.get("at",C.dataOut));C.slideOut.to=this.get("to",C.dataOut);C.slideOut.use=this.get("use",C.dataOut);C.slideOut.during=parseInt(this.get("during",C.dataOut));C.slideOut.plus=parseInt(this.get("plus",C.dataOut));C.slideOut.force=this.get("force",C.dataOut);if(C.slideOut.plus>0){C.slideOut.at+=C.slideOut.plus+x}x=C.slideOut.at}C.css({position:"absolute"});C=null},this));this.saveSize();if(this.options.flexslider){this.container.css("display",z)}if(this.options.slider){this.container.hide()}if(this.options.autostart){this.start()}this.options.onInit.call(this.container);this.container.trigger("lushInit");d(h).resize(d.proxy(this.resize,this))},get:function(z,x){var y=d.inArray(z,x);if(y<0){return l.param[z]}return x[y+1]||!x[y+1]},renderIn:function(){var y,x=this;this.container.addClass("running");this.container.trigger("slideIn");this.elements.each(d.proxy(function(A,z){var B=z.$el,A;B.delay(parseInt(B.slideIn.at));this.from(B);if((A==this.elements.length-1)){B.queue(function(){if(x.options.onSlideIn&&x.options.onSlideIn.call(x.container)===false){return}d(this).dequeue()})}if(d.support.css3feature){B.show()}},this));return this},renderOut:function(){var x=this;if(!this.container.hasClass("running")){this.container.addClass("running")}this.container.trigger("slideOut");this.outRendered=true;this.outStarted=false;this.elements.each(d.proxy(function(z,y){var A=y.$el,z;if(A.slideOut.at>=0){A.delay(parseInt(A.slideOut.at));A.queue(function(){if(x.paused&&!A.slideOut.force&&!x.outStarted){z=setInterval(d.proxy(function(){if(!x.paused){clearInterval(z);d(this).dequeue()}},this),50)}else{d(this).dequeue();if(!A.slideOut.force){x.outStarted=true}}});this.to(A);if((z==this.elements.length-1)){A.queue(function(){x.options.onSlideOut.call(x.container);d(this).dequeue()})}}},this));return this},start:function(){if(this.sliding){return}this.sliding=true;this.container.show();this.container.addClass("active");this.resize();this.container.data("direction",this.options.direction);this.container.trigger("slideStart");this.options.onSlide.call(this.container);this.renderIn();if(!this.options.manual){this.renderOut()}this.end()},end:function(){var x;d.when(this.elements).done(d.proxy(function(){var y=100;if(!this.outRendered){this.container.removeClass("running").trigger("slideStop");return}this.outRendered=false;if(!this.options.flexslider){y=600}setTimeout(d.proxy(function(){if(this.options.onSlided&&this.options.onSlided.call(this.container)===false){return}this.sliding=false;this.container.removeClass("active running").trigger("slideEnd");if(this.options.slider&&!this.stopped&&!this.options.manual){this.advance()}this.stopped=false},this),y)},this))},advance:function(){var x;if(!this.sliding){x=(this.container.data("direction")=="next")?this.options.syncNext:this.options.syncPrev;d(x).lush("start");if(this.container[0]!==x){this.container.hide()}}},prestart:function(){this.preload(this.container,d.proxy(this.start,this))},preload:function(z,A){var x=[],y=0;this.container.find("*").each(function(C,D){var E=d(D),B,F;if(E[0].tagName==="IMG"){F={src:E.attr("src"),tag:E[0].tagName};x.push(F)}else{if(E[0].tagName==="IFRAME"){F={src:E.attr("src"),tag:E[0]};x.push(F)}else{B=E.css("background-image");if(B!=="none"&&B.indexOf("url")>=0){F={src:B.match(/url\((.*)\)/)[1].replace(/"/gi,""),tag:"IMG"};x.push(F)}}}});if(!x.length){A()}else{d.each(x,function(B,C){if(C.tag==="IMG"){d("<"+C.tag+">").load(function(){if(++y==x.length){A()}}).attr("src",C.src)}else{d(C.tag).load(function(){if(++y==x.length){A()}})}})}},stop:function(x){this.stopped=typeof x=="undefined"?true:x;this.elements.each(function(z,y){while(y.$el.queue().length){y.$el.stop(false)}});return this},go:function(x){if(this.options.manual){this.renderOut();this.end()}else{this.container.data("direction",x);this.state("resume").stop(false).advance()}},state:function(x){this.paused=(x==="pause");if(this.paused){this.container.addClass("paused")}else{this.container.removeClass("paused")}return this},size:function(){return{width:this.container.width(),height:this.container.height()}},hide:function(){this.elements.hide()},show:function(){this.elements.show()},saveSize:function(){var x={};this.containerSize={width:this.options.baseWidth,height:this.options.baseHeight};this.elements.each(function(A,z){var y=d(z);x.fs=parseInt(y.css("font-size"),0)||0;x.lh=parseInt(y.css("line-height"))||0;x.pt=parseInt(y.css("paddingTop"),0)||0;x.pb=parseInt(y.css("paddingBottom"),0)||0;x.pl=parseInt(y.css("paddingLeft"),0)||0;x.pr=parseInt(y.css("paddingRight"),0)||0;x.mt=parseInt(y.css("marginTop"),0)||0;x.mb=parseInt(y.css("marginBottom"),0)||0;x.ml=parseInt(y.css("marginLeft"),0)||0;x.mr=parseInt(y.css("marginRight"),0)||0;x.btw=parseInt(y.css("borderTopWidth"),0)||0;x.bbw=parseInt(y.css("borderBottomWidth"),0)||0;x.blw=parseInt(y.css("borderLeftWidth"),0)||0;x.brw=parseInt(y.css("borderRightWidth"),0)||0;x.bts=y.css("borderTopStyle");x.bbs=y.css("borderBottomStyle");x.bls=y.css("borderLeftStyle");x.brs=y.css("borderRightStyle");x.btc=y.css("borderTopColor");x.bbc=y.css("borderBottomColor");x.blc=y.css("borderLeftColor");x.brc=y.css("borderRightColor");x.hg=parseInt(y.height())||x.lh||0;x.wd=parseInt(y.width())||0;x.t=y.css("top");x.b=y.css("bottom");x.l=y.css("left");x.r=y.css("right");y.data("properties",d.extend({},x))})},updatePos:function(){this.elements.each(function(z,y){var x=d(y);if(!o.isUnit(y.style.left,"%")){x.css("left",(parseFloat(y.style.left)*100/o.options.baseWidth)+"%")}if(!o.isUnit(y.style.top,"%")){x.css("top",(parseFloat(y.style.top)*100/o.options.baseHeight)+"%")}})},isUnit:function(y,x){return((y.indexOf(x)>0)||(x=="px"||y=="auto"))},resize:function(){var y,z,x;z=this.container.width()/this.containerSize.width;if(!this.options.flexslider){this.container.css({height:this.containerSize.height*z})}this.elements.each(function(B,A){x=d(A);y=x.data("properties");if(!y){return false}x.css({"font-size":(Math.floor(y.fs*z))+"px","line-height":(Math.floor(y.lh*z))+"px","padding-top":(y.pt*z)+"px","padding-bottom":(y.pb*z)+"px","padding-left":(y.pl*z)+"px","padding-right":(y.pr*z)+"px","border-top":(y.btw*z)+"px "+y.bts+" "+y.btc,"border-bottom":(y.bbw*z)+"px "+y.bbs+" "+y.bbc,"border-left":(y.blw*z)+"px "+y.bls+" "+y.blc,"border-right":(y.brw*z)+"px "+y.brs+" "+y.brc,height:(y.hg*z)+"px",width:(y.wd*z)+"px","white-space":"nowrap"});if(A.tagName==="IFRAME"){x.attr({width:(y.wd*z),height:(y.hg*z)})}})},from:function(z){var x,y,A=false;if(d.support.css3feature){z.clearTransition().clearState("out").addClass("in").data("activeClass",z.slideIn.from).addClass(z.slideIn.from).forceReflow().prepareEffect(z.slideIn.during,o.cssEasing[z.slideIn.use]).queue(function(){d(this).forceReflow().addClass("live").forceReflow().dequeue()}).delay(parseInt(z.slideIn.during)-100)}else{switch(z.slideIn.from){case"left":case"l":x={"margin-left":-this.container.width(),"margin-top":0};y={"margin-left":0};break;case"right":case"r":x={"margin-left":this.container.width(),"margin-top":0};y={"margin-left":0};break;case"top":case"t":x={"margin-top":-this.container.height(),"margin-left":0};y={"margin-top":0};break;case"bottom":case"b":x={"margin-top":this.container.height(),"margin-left":0};y={"margin-top":0};break;case"left-fade":case"lf":x={"margin-left":-g,opacity:0,"margin-top":0};y={"margin-left":0,opacity:1};break;case"right-fade":case"rf":x={"margin-left":g,opacity:0,"margin-top":0};y={"margin-left":0,opacity:1};break;case"top-fade":case"tf":x={"margin-top":-g,opacity:0,"margin-left":0};y={"margin-top":0,opacity:1};break;case"bottom-fade":case"bf":x={"margin-top":g,opacity:0,"margin-left":0};y={"margin-top":0,opacity:1};break;default:A=true;break}if(A){z.css("margin",0).hide().fadeTo(parseInt(z.slideIn.during),1)}else{z.css(x).show().animate(y,{duration:parseInt(z.slideIn.during),easeing:z.slideIn.use})}}return{from:x,to:y}},to:function(z){var y,x,A=false;if(d.support.css3feature){z.queue(function(){d(this).clearState("in").addClass("out").data("activeClass",z.slideOut.to).addClass(z.slideOut.to).prepareEffect(z.slideOut.during,o.cssEasing[z.slideOut.use]).forceReflow().dequeue()});z.delay(50);z.queue(function(){d(this).forceReflow().addClass("live").forceReflow().dequeue()});z.delay(parseInt(z.slideOut.during)-100)}else{switch(z.slideOut.to){case"left":case"l":x={"margin-left":0};y={"margin-left":-this.container.width()};break;case"right":case"r":x={"margin-left":0};y={"margin-left":this.container.width()};break;case"top":case"t":x={"margin-top":0};y={"margin-top":-this.container.height()};break;case"bottom":case"b":x={"margin-top":0};y={"margin-top":this.container.height()};break;case"left-fade":case"lf":y={"margin-left":-g,opacity:0};x={"margin-left":0,opacity:1};break;case"right-fade":case"rf":y={"margin-left":g,opacity:0};x={"margin-left":0,opacity:1};break;case"top-fade":case"tf":y={"margin-top":-g,opacity:0};x={"margin-top":0,opacity:1};break;case"bottom-fade":case"bf":y={"margin-top":g,opacity:0};x={"margin-top":0,opacity:1};break;default:A=true;break}if(A){z.fadeOut(parseInt(z.slideOut.during))}else{z.animate(y,{duration:parseInt(z.slideOut.during),easing:z.slideOut.use,complete:function(){}})}}return{to:y}}};function n(y,x){var z={pauseOnHover:false,navigation:true,shadow:true,keyboard:true,responsive:true,loop:0,fullPreload:false};this.container=d(y);this.items=this.container.children(".lush");this.itemCount=this.items.length;this.loopCount=0;this.options=x?d.extend({},z,x.slider):z;this.lushOptions=x;this.sliding=false;this.init()}n.prototype={init:function(){var y,A,x=0,z=this;if(this.options.fullPreload){this.items.one("lushInit",function(){if(++x==z.itemCount){z.items.eq(0).lush("start")}})}else{this.items.eq(0).one("lushInit",function(){d(this).lush("start")})}this.items.each(d.proxy(function(B,C){y=B+1;A=B-1;if(B==(this.itemCount-1)){y=0}if(B==0){A=(this.itemCount-1)}d(C).width(this.container.width()).lush(d.extend(this.lushOptions,{autostart:false,slider:true,syncNext:this.items[y],syncPrev:this.items[A],onSlide:function(){this.show();if(z.loopEnds.call(z)){this.lush("pause");z.container.off(".lushhover")}}}))},this));if(this.options.navigation){this.addnav()}if(this.options.shadow){d("<div/>",{"class":r}).appendTo(this.container)}this.addevents()},addnav:function(){var x=this;this.nav=d("<div/>").appendTo(this.container).addClass(c);d('<a href="#" class="'+s+'">&lt;</a>').appendTo(this.nav);for(i=0;i<this.itemCount;i++){d('<a href="#" class="'+j+'" rel="'+(i+1)+'">'+(i+1)+"</a>").appendTo(this.nav)}d('<a href="#" class="'+t+'">&gt;</a>').appendTo(this.nav);x.updateNav()},updateNav:function(){this.nav&&this.nav.css({left:this.container.width()/2-this.nav.width()/2})},addevents:function(){var z=this,A=function(){z.items.filter(".running").lush("next")},B=function(){z.items.filter(".running").lush("prev")},y=function(){z.items.lush("pause")},x=function(){z.items.lush("resume")};if(this.options.responsive){d(h).resize(function(){z.items.each(function(C,D){d(D).width(z.container.width())});setTimeout(d.proxy(z.updateNav,z),100)})}if(this.options.navigation){this.nav.on("click.lush",function(D){D.preventDefault();var C=d(D.target);if(z.sliding){return}if(C.is("."+s)){B()}if(C.is("."+t)){A()}if(C.is("."+j)){z.slideto.call(z,parseInt(C.attr("rel")))}return false})}d("."+q).on("click.lush",function(D){var C=parseInt(d(this).data("slideto"));z.slideto(C)});if(this.options.pauseOnHover){this.container.on("mouseenter.lushhover.in",y).on("mouseleave.lushhover.out",x)}if(this.options.keyboard){d(p).on("keyup.lush",function(D){var C=D.keyCode;if(z.sliding){return}if(C==37){B()}if(C==39){A()}})}},loopEnds:function(){return(this.options.loop&&(this.options.loop*this.itemCount)<=(this.loopCount++))},slideto:function(B){var x=this,A=this.items.filter(".active"),y=A.is(".running")?"stop":"slideout",z;if(!this.sliding&&(B>0&&B<=this.itemCount)){this.sliding=true;z=this.items.eq(B-1);if(z.hasClass("active")){this.sliding=false;return}z.one("slideStop",function(){x.sliding=false});A.one("slideEnd",function(){d(this).hide();z.one("slideStart",function(){if(x.lushOptions&&!x.lushOptions.manual){x.sliding=false}}).lush("start")}).lush(y)}}};function k(K){var z=d(this),x=d.extend({},d.flexslider.defaults,K.flexslider),D=z.find(x.selector),C=D.length,J=x.namespace?x.namespace:"flex-",B=J+"active-slide",y=J+"next",I=J+"prev",H=false,E=function(){D.lush("pause")},F=function(){D.lush("resume")},G;D.each(function(L,M){d(M).children().not(".ignore").hide()});z.flexslider(d.extend(x,{start:function(L){L.slides.eq(0).one("lushInit",function(){d(this).lush("start")});L.slides.lush(d.extend({autostart:false,onSlided:A},K))},after:function(L){G.lush("hide");L.slides.filter("."+B).lush("start")},before:function(L){G=L.slides.not(":eq("+L.animatingTo+")").lush("stop")}}));function A(){if(!z.data("flexslider").animating&&!H){z.flexslider("next")}}if(K.flexslider.pauseOnHover){z.hover(function(){H=true;E()},function(){H=false;F();if(!z.find(".running").length){A()}})}}d.fn[a]=function(x){if((typeof x).match("object|undefined")){return this.each(function(){if(d(this).hasClass(v)){if(!d.data(this,u)){d.data(this,u,new n(this,x))}}else{if(d(this).hasClass(b)){if(!d.data(this,m)&&d.flexslider){d.data(this,m,1);k.call(this,x)}}else{if(!d.data(this,a)){new w(this,x)}}}})}else{return this.each(function(y){if(typeof x=="string"){var A=d.data(this,a);if(!A){return}switch(x){case"start":A.start();break;case"stop":A.stop();break;case"prev":case"next":A.go(x);break;case"pause":A.state(x);break;case"resume":A.state(x);break;case"hide":A.hide();break;case"show":A.show();break;case"resize":A.resize();break;case"slidein":A.renderIn().end();break;case"slideout":A.renderOut().end();break}}if(typeof x=="number"){var z=d.data(this,"lushSlider");z.slideto(x)}})}}})(jQuery,window,document);